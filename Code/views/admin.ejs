<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
    <title>Admin Page</title>
    <%- include("fontLinks") -%>
    <link href="../css/style.css" rel="stylesheet" type="text/css" />
    <meta charset="utf-8" />
    <%
        if(locals.employeeList && locals.clientList) {
            let employeeList = locals.employeeList;
            let clientList = locals.clientList;
        }

    %>
</head>
<body>
<%-include("header")-%>
<div class="bodyContent">
    <div class="adminContainer">
        <div class="adminActions"
        <div class="employee_actions">
            <p>Employee Actions: </p>
            <button id="assignClientButton">Assign/Remove a Client</button>
            <button id="addEmployeeButton">Add a New Employee</button>
            <button id="removeEmployeeButton">Remove an Employee</button>
            <button id="resetPasswordButton">Reset Employee Password</button>
        </div>
        <div class="client_actions">
            <p>Client Actions: </p>
            <button id="addNewClientButton">Add a New Client</button>
            <button id="removeClientButton">Remove a Client</button>
        </div>
        <div class="assignClient" id="assignClient">
            <!-- employee name selected from a select, client select filtered from that -->
            <form method="post" action="/admin/assign">
                <fieldset class="assignClientFieldset">
                    <legend>Assign a Client to an Employee</legend>

                    <label for="assignClientFirstName"> Client First Name: </label>
                    <input type="text" id="assignClientFirstName" name="assignClientFirstName" />
                    <label for="assignClientLastName"> Client Last Name: </label>
                    <input type="text" id="assignClientLastName" name="assignClientLastName" />
                    <label for="assignEmployeeFirstName"> Employee First Name: </label>
                    <input type="text" id="assignEmployeeFirstName" name="assignEmployeeFirstName" />
                    <label for="assignEmployeeLastName"> Employee Last Name: </label>
                    <input type="text" id="assignEmployeeLastName" name="assignEmployeeLastName" />

                    <button id="assignClientSearchButton">Search</button>

                    <div id="assignClientResult">
                        <label for="assignClientEmpl">Employees: </label>
                        <select name="assignClientEmpl" id="assignClientEmpl">
                            <option value="null">Select an Employee</option>
                            <%
                                // foreach for array of employees as options
                                if(locals.employeeList) {
                                    employeeList.forEach((employee) => {
                                        %>
                                        <option value="<%=employee.fName + ", " + employee.lName%>">
                                            <%=employee.fName + ", " + employee.lName%>
                                        </option>
                                        <%
                                    })
                                }
                            %>
                        </select>
                        <label for="assignClientClient">Clients: </label>
                        <select name="assignClientClient" id="assignClientClient">
                            <option value="null">Select a Client:</option>
                            <%
                                if(locals.clientList) {
                                    clientList.forEach((client) => {
                                        %>
                                        <option value="<%=client.fName + ", " + client.lName%>">
                                            <%=client.fName + ", " + client.lName%>
                                        </option>
                                        <%
                                    })
                                }
                            %>
                        </select>
                        <button id="submit">Assign</button>
                    </div>
                </fieldset>
            </form>
        </div>
        <div class="addEmployee" id="addEmployee">
            <!-- employee username, email, password, program(s), submit -->
            <fieldset class="addEmployeeFieldset">
                <legend>Add an Employee</legend>
                <div>
                    <label for="addEmployeeFName">First Name: </label>
                    <input type="text" id="addEmployeeFName" name="addEmployeeFName" />
                </div>
                <div>
                    <label for="addEmployeeMName">Middle Name: </label>
                    <input type="text" id="addEmployeeMName" name="addEmployeeMName" />
                </div>
                <div>
                    <label for="addEmployeeLName">Last Name: </label>
                    <input type="text" id="addEmployeeLName" name="addEmployeeLName" />
                </div>
                <div>
                    <label for="addEmployeeUser">Username: </label>
                    <input type="text" id="addEmployeeUser" name="addEmployeeUser" />
                </div>
                <div>
                    <label for="addEmployeeAddress"> Address: </label>
                    <input type="text" id="addEmployeeAddress" name="addEmployeeAddress" />
                </div>
                <div>
                    <label for="addEmployeeCity"> City: </label>
                    <input type="text" id="addEmployeeCity" name="addEmployeeCity" />
                </div>
                <div>
                    <label for="addEmployeeState"> State: </label>
                    <input type="text" id="addEmployeeState" name="addEmployeeState" />
                </div>
                <div>
                    <label for="addEmployeeZip"> Zip Code: </label>
                    <input type="text" id="addEmployeeZip" name="addEmployeeZip" />
                </div>
                <div>
                    <label for="addEmployeePhone"> Phone: </label>
                    <input type="text" id="addEmployeePhone" name="addEmployeePhone" />
                </div>
                <div>
                    <label for="addEmployeePass">Password: </label>
                    <input type="password" id="addEmployeePass" name="addEmployeePass" />
                </div>
                <div>
                    <label for="addEmployeePassConfirm">Confirm Password: </label>
                    <input type="password" id="addEmployeePassConfirm" name="addEmployeePassConfirm" />
                </div>
                <div>
                    <label for="addEmployeeAdminCheckbox">Check if this Account will be Admin: </label>
                    <input type="checkbox" id="addEmployeeAdminCheckbox" value="1" />
                </div>

                <% /*
                    if() {

                        %>
<!--                            <p>Passwords do not match, please re-enter the password to continue</p>-->
                        <%
                    }
                    */
                %>

                <button id="addEmployeeSubmit">Submit</button>
            </fieldset>
        </div>
        <div class="removeEmployee" id="removeEmployee">
            <!-- employee username, name, search with table and selector, submit -->
            <fieldset class="removeEmployeeFieldset">
                <legend>Remove an Employee</legend>
                <div>
                    <label for="removeEmplFName"> First Name: </label>
                    <input type="text" id="removeEmplFName" name="removeEmplFName" />
                </div>
                <div>
                    <label for="removeEmplLName"> Last Name: </label>
                    <input type="text" id="removeEmplLName" name="removeEmplLName" />
                </div>

                <button id="removeEmplSearchButton">Search</button>

                <div id="removeEmplSearchResults">
                    <select name="removeEmplSearchSelect" id="removeEmplSearchSelect">
                        <option value="null">Select an Employee</option>
                    </select>
                </div>

                <button id="removeEmployeeSubmit">Submit</button>
            </fieldset>
        </div>
        <div class="resetPassword" id="resetPassword">
            <!-- employee username, name, search with table and selector, submit -->
            <form id="resetPasswordForm" method="post" action="/api/resetPassword">
                <fieldset class="resetPasswordFieldset">
                    <legend>Reset Employee Password</legend>

                    <label for="resetUsername"> Username: </label>
                    <input type="text" id="resetUsername" name="username" />

                    <button type="submit" id="resetPasswordSubmit">Submit</button>
                </fieldset>
            </form>
            <div id="resetPasswordResult"></div>
        </div>
        <div class="addNewClient" id="addNewClient">
            <!-- sends you to empty client page to put in info -->
            <fieldset class="addNewClientFieldset">
                <legend>Add a New Client</legend>
                <div>
                    <label for="addClientFName">First Name: </label>
                    <input type="text" id="addClientFName" required="required"/>
                </div>
                <div>
                    <label for="addClientMName">Middle Name: </label>
                    <input type="text" id="addClientMName" />
                </div>
                <div>
                    <label for="addClientLName">Last Name: </label>
                    <input type="text" id="addClientLName" required="required"/>
                </div>
                <div>
                    <label for="addClientEmail">Email: </label>
                    <input type="text" id="addClientEmail" />
                </div>
                <div>
                    <label for="addClientAddress">Address: </label>
                    <input type="text" id="addClientAddress" />
                </div>
                <div>
                    <label for="addClientCity">City: </label>
                    <input type="text" id="addClientCity" />
                </div>
                <div>
                    <label for="addClientZip">Zip: </label>
                    <input type="text" id="addClientZip" />
                </div>
                <div>
                    <label for="addClientDoB">Date of Birth: </label>
                    <input type="date" id="addClientDoB" />
                </div>
                <div>
                    <label for="addClientPhone">Phone: </label>
                    <input type="text" id="addClientPhone" maxlength="12"/>
                </div>
                <button id="addClientSubmit">Add</button>
            </fieldset>
        </div>
        <div class="removeClient" id="removeClient">
            <!-- search by name, program, id?, phone, email, display info in mini table -->
            <fieldset class="removeClientFieldset">
                <legend>Remove a Client</legend>

                <label for="removeClientFName"> First Name: </label>
                <input type="text" id="removeClientFName" />

                <label for="removeClientLName"> Last Name: </label>
                <input type="text" id="removeClientLName" />

                <button id="removeClientSearchButton">Search</button>
                <div class="removeClientSearchResults">
                    <label for="removeClientSelect">Clients: </label>
                    <select id="removeClientSelect">
                        <option value="null">Select a Client:</option>
                    </select>
                </div>

                <button id="removeClientSubmit">Submit</button>
            </fieldset>
        </div>
    </div>
</div>
<footer class="caseNoteFooter">
    <button id="goBackButton" class="dimHover footerButton">Go Back</button>
</footer>
</body>

<script src="../js/adminButtons.js" defer="defer"></script>
<script src="../js/adminActions.js" defer="defer"></script>