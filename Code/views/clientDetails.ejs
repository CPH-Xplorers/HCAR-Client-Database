<!DOCTYPE html>
<html lang="en">
<head>
    <title>Client Details</title>
    <%- include("fontLinks") -%>
    <link href="../css/style.css" rel="stylesheet" type="text/css">
    <link href="../css/orlando.css" rel="stylesheet" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- global variables for client information objects -->
    <%
        let primaryInsurance = locals.theClient.getPrimaryInsurance();
    %>
</head>
<body>
<%-include("header")-%>
<div class="bodyContent">
    <p>Showing information for
        <% if(locals.theClient){
        %><%= locals.theClient.getFirstName() + " " + locals.theClient.getLastName() %><%
        }
        else{
        %> Unknown Client <%
        } %></p>
    <div id="tabContainer">
        <div class="tab">
            <button class="tablinks" data-tabName="clientID" id="defaultOpen" >Client ID</button>
            <button class="tablinks" data-tabName="medInfo"> Medical Information</button>
            <button class="tablinks" data-tabName="personalInfo"> Personal Information</button>
            <button class="tablinks" data-tabName="supportTeam"> Support Team</button>
            <button class="tablinks" data-tabName="caseNotes"> Case Notes</button>
        </div>

        <div id="clientID" class="tabcontent">
            <label for="firstName">First Name: </label>
            <input type="text" placeholder="First Name"
                   value="<%= locals.theClient.getFirstName() %>" id="firstName" />

            <label for="middleName">Middle: </label>
            <input type="text" placeholder="Middle"
                   value="<%=locals.theClient.getMiddleName()%>" id="middleName" />

            <label for="lastName">Last Name: </label>
            <input type="text" placeholder="Last Name"
                   value="<%=locals.theClient.getLastName()%>" id="lastName" />
            <br />

            <label for="email">Email: </label>
            <input type="text" placeholder="First Name"
                   value="<%=locals.theClient.getEmail()%>" id="email" />

            <label for="address">Street Address: </label>
            <input type="text" placeholder="Address"
                   value="<%=locals.theClient.getAddress()%>" id="address" />

            <label for="DoB">Street Address: </label>
            <input type="date" placeholder="Address"
                   value="<%=locals.theClient.getAddress()%>" id="address" />

            <label for="sex">Sex: </label>
            <select name="sex" id="sex">
                <option value="<%=locals.theClient.getSex()%>"><%=locals.theClient.getSex()%></option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other/Unspecified</option>
            </select>

            <label for="maritalStatus">Marital Status: </label>
            <select name="maritalStatus" data-curr="<%=locals.theClient.getMaritalStatus();%>" id="maritalStatus">
                <option value="single" id="single">Single</option>
                <option value="married" id="married">Married</option>
                <option value="divorced" id="divorced">Divorced</option>
                <option value="other" id="other">Other</option>
            </select>
            <script>
                switch(document.getElementById("maritalStatus").getAttribute("data-curr")) {
                    case 'single' :
                        document.getElementById("single").setAttribute("checked", "checked");
                        break;
                    case 'married' :
                        document.getElementById("married").setAttribute("checked", "checked");
                        break;
                    case 'divorced' :
                        document.getElementById("divorced").setAttribute("checked", "checked");
                        break;
                    case 'other' :
                        document.getElementById("other").setAttribute("checked", "checked");
                        break;
                }
            </script>
        </div>

        <div id="medInfo" class="tabcontent">
            <div>
                <label for="p_insurance">Primary Insurance Provider: </label>
                <input type="text" placeholder="Primary Insurance Provider"
                       value="<%=locals.theClient.getPrimaryInsurance().getName()%>" id="p_insurance" />

                <label for="p_insurance_num">Ins. Number: </label>
                <input type="text" placeholder="000000000"
                       value="<%=primaryInsurance.getPolicyNumber()%>" id="p_insurance_num" />

            </div>
            <label for="s_insurance">Secondary Insurance Provider: </label>
            <input type="text" placeholder="Primary Insurance Provider"
                   value="<%=locals.theClient.getSecondaryInsurance()%>" id="s_insurance" />

            <label for="p_care_provider">Primary Care Provider: </label>
            <input type="text" placeholder="Primary Care Provider"
                   value="<%=locals.theClient.getPcp()%>" id="p_care_provider" />

            <label for="p_physician">Primary Physician: </label>
            <input type="text" placeholder="Primary Physician"
                   value="<%=locals.theClient.getPrimaryPhysician()%>" id="p_physician" />

            <label for="pref_hospital">Preferred Hospital: </label>
            <input type="text" placeholder="Preferred Hospital"
                   value="<%=locals.theClient.getPreferredHospital()%>" id="pref_hospital" />
        </div>

        <div id="personalInfo" class="tabcontent">
            3
        </div>

        <div id="supportTeam" class="tabcontent">
            4
        </div>

        <div id="caseNotes" class="tabcontent">
            5
        </div>

        <script src="js/tab.js"></script>
    </div>
</div>

</body>